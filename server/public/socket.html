<!DOCTYPE html>
<html lang="en">
    <head>
        <title>webSockets and Socket.IO</title>
        <script type="text/javascript" src="/socket.io/socket.io.js"></script>
        <!--The above library(/socket.io/socket.io.js) will be generated by socket.io module of server -->
        <script type="text/javascript" src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
    </head>
    <body>

            <p id="content"></p> <!--This is where the data from the server is added-->


        <script type="text/javascript">
            var socket = io.connect('http://localhost:3000');
            /*Initializing the connection with the server via websockets */
            socket.on("update",function(message){

                /*
                    When server sends data to the client it will trigger "message" event on the client side , by
                    using socket.on("message") , one cna listen for the ,message event and associate a callback to
                    be executed . The Callback function gets the dat sent from the server
                */
                console.log("Message from the server arrived")

                console.log(message); /*converting the data into JS object */
                $('#content').append('<div >'+message +'</div>'); /*appending the data on the page using Jquery */
            });

        </script>
    </body>
</html>
